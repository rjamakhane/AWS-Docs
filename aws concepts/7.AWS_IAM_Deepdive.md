# üîê AWS IAM Deep Dive ‚Äì Study Notes

> **File:** AWS_IAM_Deep_Dive_Notes.md  
> **Purpose:** Detailed IAM study guide with examples, best practices, and AWS Certification prep questions.

---

## üß© 1. Overview of IAM (Identity and Access Management)

### What is IAM?
**IAM (Identity and Access Management)** is an AWS service used to securely control access to AWS resources.  
It helps you manage **who** can do **what** on **which resources**.

| Property | Description |
|-----------|--------------|
| **Scope** | Global (applies to the entire AWS account) |
| **Cost** | Free service |
| **Purpose** | Security & permissions management |
| **Users/Groups** | You can create IAM users, groups, and roles |
| **Policies** | Define permissions in JSON format |

### Why IAM?
IAM ensures the **Principle of Least Privilege (PoLP)** ‚Äî each user should only have the permissions required to do their job.

---

## üë§ 2. Root User vs IAM User

| Feature | Root User | IAM User |
|----------|------------|----------|
| **Permissions** | Full, unrestricted access | Limited, controlled by policies |
| **Usage Recommendation** | Not for daily use | For all regular access |
| **Account Type** | Created when you sign up for AWS | Created within IAM by Admin |
| **Access** | Email + Password | Username/Password or Access Keys |
| **MFA Setup** | Strongly recommended | Recommended for each IAM user |

### üö´ Best Practice
- **Never use the Root Account** for daily activities.  
- Use Root only for critical account-level operations (e.g., billing, account closure).  
- Create separate **IAM users** for each team member with specific permissions.

---

## üîê 3. Multi-Factor Authentication (MFA)

### What is MFA?
**MFA (Multi-Factor Authentication)** adds an extra layer of security by requiring both:
1. Password (something you know), and  
2. OTP from an Authenticator App (something you have).

### Recommended Tools
- **Google Authenticator**
- **Authy**
- **AWS Virtual MFA app**

### Steps to Set Up MFA
1. Sign in to AWS Console ‚Üí go to **My Security Credentials**.  
2. Choose **Activate MFA**.  
3. Scan QR code in your authenticator app.  
4. Enter the 6-digit codes to verify setup.

‚úÖ **Best Practice:**  
Enable MFA for **Root Account** and **every IAM User** individually.

---

## ‚òÅÔ∏è 4. IAM Access Methods ‚Äì 2 Ways to Access AWS

| Access Type | Method | Example | MFA Support | Use Case |
|--------------|---------|----------|--------------|-----------|
| **Console Access** | GUI Login (AWS Console) | Email/Username + Password | Yes | Web-based management |
| **Programmatic Access** | CLI, SDKs, API | Access Key + Secret Key | No | Automation, development, DevOps |

---

## üíª 5. Console Access (GUI)

- Login via **AWS Management Console** at: [https://aws.amazon.com/console/](https://aws.amazon.com/console/)  
- Use **IAM user credentials** (username + password).  
- MFA can be enabled for secure login.  
- IAM User permissions determine what services they can access (e.g., EC2, S3, IAM, etc.).

### Example IAM Users and Permissions

| User | Services Accessible | Notes |
|------|---------------------|-------|
| Sunil | EC2 | Compute management |
| Pavani | S3, IAM | Storage & permissions |
| Aman | RDS, EFS | Database & file system |
| Suresh | S3 | Limited access |
| Sudhakar | Admin (except Billing) | Administrator role |

---

## ‚öôÔ∏è 6. Programmatic Access (CLI, SDKs, Developer Tools)

### What It Means
Programmatic access allows AWS services to be accessed through:
- **AWS CLI** (Command Line Interface)
- **AWS SDKs** (Python boto3, Java, .NET, etc.)
- **Terraform / CloudFormation** scripts

### Requirements

#### Install AWS CLI
```bash
# On Linux
sudo apt install awscli

# On Windows (CMD)
choco install awscli
```

#### Configure Credentials
```bash
aws configure
```
You‚Äôll be prompted for:
- AWS Access Key ID  
- AWS Secret Access Key  
- Default Region Name  
- Default Output Format (json/text)

---

## üîë 7. Access Keys Management

### Components
Each IAM User can have up to **two sets of Access Keys**:
- **Access Key ID** ‚Üí Public identifier  
- **Secret Access Key** ‚Üí Private key (visible only once)

### Important Rules
1. The **Secret Key** is shown **only once** during creation.  
2. If lost, you **cannot recover** the old key ‚Äî only regenerate a new one.  
3. **Never share keys** with anyone.  
4. **Rotate keys** periodically.  
5. **Do NOT use Root Access Keys.**

### Example: Key Set
```
Access Key ID: AKIAIOSFODNN7EXAMPLE
Secret Access Key: wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
```

### CLI Usage Example
```bash
aws s3 ls
aws ec2 describe-instances
aws iam list-users
```

Each command will authenticate using the stored credentials configured via `aws configure`.

---

## üß† 8. Permissions, Policies, and Best Practices

| Concept | Description |
|----------|-------------|
| **Permissions** | Define allowed actions on AWS resources |
| **Policies** | JSON documents that describe permissions |
| **Groups** | Combine users with common permissions |
| **Roles** | Grant temporary access (used for EC2, Lambda, etc.) |

### Example: Policy Snippet
```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": "s3:*",
      "Resource": "*"
    }
  ]
}
```

### üß≠ Best Practices Summary
- Follow **Least Privilege Principle**.  
- Enable **MFA** for all users.  
- Use **Roles** instead of static credentials for services.  
- Rotate credentials regularly.  
- Never use **Root keys** in code or automation.

---

## üß© 9. Real-World Example

Imagine an organization where:
- **Root User** creates IAM Users for each team member.  
- Each **IAM User** has specific service permissions.  
- **Developers** access AWS via CLI for automation.  
- **Admins** use console access with MFA.  

This ensures secure, traceable, and controlled access across the organization.

---

## üéØ 10. Sample AWS Certification-Style Questions

**Q1.** Which AWS account should be used to perform daily administrative tasks?  
**A:** IAM User with appropriate permissions (not the Root account).

**Q2.** What happens if an IAM user‚Äôs secret key is lost?  
**A:** It cannot be retrieved; you must generate a new one.

**Q3.** What command is used to configure AWS credentials on CLI?  
**A:** `aws configure`

**Q4.** How many sets of access keys can each IAM user have?  
**A:** Two.

**Q5.** Which of the following is a security best practice?  
A. Share root credentials with developers  
B. Enable MFA for all IAM users  
C. Disable CloudTrail logs  
‚úÖ **Answer:** B

**Q6.** Can IAM be used across all AWS regions?  
**A:** Yes, IAM is global.

---

## üßæ 11. Summary Comparison Table

| Feature | Root Account | IAM User | MFA |
|----------|---------------|-----------|------|
| **Scope** | Account-wide | Per-user | Security layer |
| **Permissions** | Full | Controlled via policies | N/A |
| **Usage** | Setup, billing | Daily access | Authentication |
| **Access Type** | Console & API | Console & API | Console |
| **Best Practice** | Avoid daily use | Use for all work | Enable for all |

---

## üèÅ Final Takeaways

- IAM is the **foundation of AWS security**.  
- **Root account = power, use sparingly.**  
- Use **IAM users, groups, and roles** to assign minimal necessary permissions.  
- Always **enable MFA** for protection.  
- Regularly **rotate keys** and monitor access via **CloudTrail**.

---

üß≠ *End of Document*  
**File:** `AWS_IAM_Deep_Dive_Notes.md`
